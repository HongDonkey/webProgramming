<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <style media="screen">

  </style>
</head>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>

<body>
  학생 수정 <br>
  학번 : <input type="text" id="no"><br>
  이름 : <input type="text" id="name"><br>
  javascript : <input type="text" id="javascript"><br>
  python : <input type="text" id="python"><br>
  java : <input type="text" id="java"><br>

  <input type='button' value='수정' id="update">
  <input type='button' value='메인페이지' id="mainpage">
  <input type='button' value='목록페이지' id="listpage">
  <br>
  <span id="resultArea"></span>
</body>
<script type="text/javascript">
  let number = location.href.split("?")[1]



  //btnClickConsole함수의 인자를 ${res[i].NO}를 number로 받는다.

  $.ajax({
    type: "get",
    url: `/updatePage2`,
    data: {
      num: number,
    },
    success: function(res) {
      $("#no").val(res[0].studentNo);
      $("#name").val(res[0].studentName);
      $("#javascript").val(res[0].javascript);
      $("#python").val(res[0].python);
      $("#java").val(res[0].java);

      // console.log(res);
      // alert(res)
      // location.href="/insertMain";
    }

  });

  $("#update").click(function() {
    $.ajax({
      type: "put",
      url: `/updatepage3`,
      data: {
        num : number,
        stuNo : $("#no").val(),
        stuName : $("#name").val(),
        javascript : $("#javascript").val(),
        python : $("#python").val(),
        java : $("#java").val()
      },
      success: function(res) {
        console.log(res);
        
      }
    })
  });

  //btnClickConsole함수의 인자를 ${res[i].NO}를 number로 받는다.



  $("#mainpage").click(function() {
    location.href = "/main";
  })
  $("#listpage").click(function() {
    location.href = "/listpage";
  })
</script>



</html>
